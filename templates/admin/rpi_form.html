{% extends "base.html" %}

{% block title %}{{ 'Edit' if project else 'Add' }} Raspberry Pi Project - Admin{% endblock %}

{% block content %}
<section class="admin-section">
    <div class="container">
        <div class="admin-header">
            <h1>{{ 'Edit' if project else 'Add New' }} Raspberry Pi Project</h1>
            <a href="{{ url_for('admin.raspberry_pi') }}" class="btn btn-secondary">Back to RPI Projects</a>
        </div>
        
        <form method="POST" class="admin-form">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-row">
                <div class="form-group">
                    <label for="id">ID *</label>
                    <input type="number" id="id" name="id" value="{{ project.id if project else '' }}" required>
                </div>
            </div>
            
            <div class="form-group">
                <label for="title">Title *</label>
                <input type="text" id="title" name="title" value="{{ project.title if project else '' }}" required>
            </div>
            
            <div class="form-group">
                <label for="description">Description *</label>
                <textarea id="description" name="description" rows="3" required>{{ project.description if project else '' }}</textarea>
            </div>
            
            <div class="form-group">
                <label for="hardware">Hardware (comma-separated) *</label>
                <input type="text" id="hardware" name="hardware" value="{{ project.hardware|join(', ') if project else '' }}" placeholder="Raspberry Pi 4, DHT22 Sensor, Camera Module" required>
                <small>List all hardware components separated by commas</small>
            </div>
            
            <div class="form-group">
                <label for="technologies">Technologies (comma-separated) *</label>
                <input type="text" id="technologies" name="technologies" value="{{ project.technologies|join(', ') if project else '' }}" placeholder="Python, Flask, MQTT, GPIO" required>
                <small>Software, protocols, and frameworks used</small>
            </div>
            
            <div class="form-group">
                <label for="features">Features (one per line) *</label>
                <textarea id="features" name="features" rows="5" required>{% if project %}{{ project.features|join('\n') }}{% endif %}</textarea>
                <small>Enter each feature on a new line</small>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="github">GitHub URL</label>
                    <input type="url" id="github" name="github" value="{{ project.github if project else '' }}" placeholder="https://github.com/user/repo">
                </div>
                
                <div class="form-group">
                    <label for="image">Image Path *</label>
                    <input type="text" id="image" name="image" value="{{ project.image if project else '/static/images/placeholder.jpg' }}" required>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary">{{ 'Update' if project else 'Create' }} RPI Project</button>
        </form>
    </div>
</section>

<style>
.admin-form small {
    display: block;
    color: var(--text-muted);
    margin-top: 0.25rem;
    font-size: 0.85rem;
}
</style>
{% endblock %}
