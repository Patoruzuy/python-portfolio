# =============================================================================
# Flask Configuration
# =============================================================================
FLASK_APP=app.py
FLASK_ENV=production  # development, production, testing
SECRET_KEY=change-this-to-a-random-secret-key-in-production

# Generate a secure SECRET_KEY:
# python -c "import secrets; print(secrets.token_hex(32))"

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=sqlite:///portfolio.db
# For PostgreSQL (recommended for production):
# DATABASE_URL=postgresql://user:password@localhost:5432/portfolio_db
# For MySQL:
# DATABASE_URL=mysql://user:password@localhost:3306/portfolio_db

SQLALCHEMY_ECHO=False  # Set to True for SQL query logging

# =============================================================================
# Redis Configuration (for caching and Celery)
# =============================================================================
REDIS_URL=redis://localhost:6379/0
# For Docker:
# REDIS_URL=redis://redis:6379/0
# For Redis Cloud:
# REDIS_URL=redis://username:password@host:port/0

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# Email Configuration (Flask-Mail)
# =============================================================================
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password-here
MAIL_DEFAULT_SENDER=your-email@gmail.com
MAIL_RECIPIENT=your-email@gmail.com
CONTACT_EMAIL=your-email@gmail.com

# Gmail App Password: https://support.google.com/accounts/answer/185833
# SendGrid: MAIL_SERVER=smtp.sendgrid.net, MAIL_USERNAME=apikey, MAIL_PASSWORD=<api-key>
# AWS SES: MAIL_SERVER=email-smtp.region.amazonaws.com

# =============================================================================
# Admin Configuration
# =============================================================================
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com

# Generate password hash:
# python -c "from werkzeug.security import generate_password_hash; print(generate_password_hash('your-password'))"
ADMIN_PASSWORD_HASH=scrypt:32768:8:1$zQX8DaHbhfTCvKN9$3b2f4b1c8d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3

# =============================================================================
# Site Configuration
# =============================================================================
SITE_URL=http://localhost:5000
# For production:
# SITE_URL=https://yourdomain.com

# =============================================================================
# Security & Session Configuration
# =============================================================================
SESSION_COOKIE_SECURE=True  # Set to False for local development (http)
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
SESSION_LIFETIME_DAYS=7

REMEMBER_COOKIE_SECURE=True  # Set to False for local development (http)
REMEMBER_COOKIE_HTTPONLY=True
REMEMBER_COOKIE_DAYS=30

# HSTS (HTTP Strict Transport Security)
HSTS_MAX_AGE=31536000  # 1 year
HSTS_INCLUDE_SUBDOMAINS=True
HSTS_PRELOAD=False

# =============================================================================
# Cache Configuration
# =============================================================================
CACHE_TYPE=simple  # simple, redis, memcached
CACHE_DEFAULT_TIMEOUT=300  # seconds
CACHE_REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Rate Limiting
# =============================================================================
RATELIMIT_ENABLED=True
RATELIMIT_STORAGE_URL=redis://localhost:6379/1
RATELIMIT_DEFAULT=100/hour

# =============================================================================
# File Upload Configuration
# =============================================================================
UPLOAD_FOLDER=static/images
MAX_CONTENT_LENGTH=16777216  # 16MB in bytes

# =============================================================================
# Blog Configuration
# =============================================================================
BLOG_POSTS_DIR=blog_posts
POSTS_PER_PAGE=10

# =============================================================================
# Analytics & Monitoring
# =============================================================================
ENABLE_SELF_HOSTED_ANALYTICS=True
ANALYTICS_RETENTION_DAYS=90

# Optional: Google Analytics
GOOGLE_ANALYTICS_ID=

# Optional: Sentry Error Tracking
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_NEWSLETTER=True
ENABLE_CONTACT_FORM=True
ENABLE_BLOG_COMMENTS=False
ENABLE_ECOMMERCE=False

# =============================================================================
# CORS Configuration (if needed)
# =============================================================================
CORS_ORIGINS=  # Comma-separated list: https://example.com,https://app.example.com

# =============================================================================
# Gunicorn Deployment Configuration
# =============================================================================
WORKERS=4
WORKER_CLASS=sync  # sync, gevent, eventlet
BIND=0.0.0.0:5000
TIMEOUT=120
GRACEFUL_TIMEOUT=30
KEEPALIVE=5

# =============================================================================
# Logging Configuration
# =============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# =============================================================================
# Testing Configuration (for CI/CD)
# =============================================================================
FLASK_TESTING=False  # Set to True in test environments

# =============================================================================
# Doppler Configuration (Optional)
# =============================================================================
# When using Doppler, these are automatically set:
# DOPPLER_PROJECT=your-project-name
# DOPPLER_CONFIG=dev|staging|prod
# DOPPLER_ENVIRONMENT=development|production
#
# Run with: doppler run -- python app.py
# See docs/CONFIG.md for more information
